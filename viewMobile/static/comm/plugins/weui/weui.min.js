/* ! weui.js v1.1.3 (https://weui.io) Copyright 2017, wechat ui team MIT license */
(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==='object'&&typeof module==='object'){module.exports=factory()}else if(typeof define==='function'&&define.amd){define([],factory)}else if(typeof exports==='object'){exports["weui"]=factory()}else{root["weui"]=factory()}})(this,function(){return (function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false };modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports;}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0);})([function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _dialog=__webpack_require__(1);var _dialog2=_interopRequireDefault(_dialog);var _alert=__webpack_require__(7);var _alert2=_interopRequireDefault(_alert);var _confirm=__webpack_require__(8);var _confirm2=_interopRequireDefault(_confirm);var _toast=__webpack_require__(9);var _toast2=_interopRequireDefault(_toast);var _loading=__webpack_require__(11);var _loading2=_interopRequireDefault(_loading);var _actionSheet=__webpack_require__(13);var _actionSheet2=_interopRequireDefault(_actionSheet);var _topTips=__webpack_require__(15);var _topTips2=_interopRequireDefault(_topTips);var _searchBar=__webpack_require__(17);var _searchBar2=_interopRequireDefault(_searchBar);var _tab=__webpack_require__(18);var _tab2=_interopRequireDefault(_tab);var _form=__webpack_require__(19);var _form2=_interopRequireDefault(_form);var _uploader=__webpack_require__(20);var _uploader2=_interopRequireDefault(_uploader);var _picker=__webpack_require__(24);var _gallery=__webpack_require__(30);var _gallery2=_interopRequireDefault(_gallery);var _slider=__webpack_require__(32);var _slider2=_interopRequireDefault(_slider);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={dialog:_dialog2.default,alert:_alert2.default,confirm:_confirm2.default,toast:_toast2.default,loading:_loading2.default,actionSheet:_actionSheet2.default,topTips:_topTips2.default,searchBar:_searchBar2.default,tab:_tab2.default,form:_form2.default,uploader:_uploader2.default,picker:_picker.picker,datePicker:_picker.datePicker,gallery:_gallery2.default,slider:_slider2.default};module.exports=exports['default'];},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _util=__webpack_require__(2);var _util2=_interopRequireDefault(_util);var _dialog=__webpack_require__(6);var _dialog2=_interopRequireDefault(_dialog);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _sington=void 0;function dialog(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(_sington){return _sington}var isAndroid=_util2.default.os.android;options=_util2.default.extend({title:null,content:'',className:'',buttons:[{label:'确定',type:'primary',onClick:_util2.default.noop}],isAndroid:isAndroid},options);var $dialogWrap=(0,_util2.default)(_util2.default.render(_dialog2.default,options));var $dialog=$dialogWrap.find('.weui-dialog');var $mask=$dialogWrap.find('.weui-mask');function _hide(callback){_hide=_util2.default.noop;$mask.addClass('weui-animate-fade-out');$dialog.addClass('weui-animate-fade-out').on('animationend webkitAnimationEnd',function(){$dialogWrap.remove();_sington=false;callback&&callback()})}function hide(callback){_hide(callback)}(0,_util2.default)('body').append($dialogWrap);$mask.addClass('weui-animate-fade-in');$dialog.addClass('weui-animate-fade-in');$dialogWrap.on('click','.weui-dialog__btn',function(evt){var index=(0,_util2.default)(this).index();if(options.buttons[index].onClick){if(options.buttons[index].onClick.call(this,evt)!==false){hide()}}else{hide()}});_sington=$dialogWrap[0];_sington.hide=hide;return _sington}exports.default=dialog;module.exports=exports['default'];},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};__webpack_require__(3);var _objectAssign=__webpack_require__(4);var _objectAssign2=_interopRequireDefault(_objectAssign);var _balajs=__webpack_require__(5);var _balajs2=_interopRequireDefault(_balajs);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _detect(ua){var os=this.os={},android=ua.match(/(Android);?[\s\/]+([\d.]+)?/);if(android){os.android=true;os.version=android[2]}}_detect.call(_balajs2.default,navigator.userAgent);(0,_objectAssign2.default)(_balajs2.default.fn,{append:function append($child){if(!($child instanceof HTMLElement)){$child=$child[0]}this.forEach(function($element){$element.appendChild($child)});return this},remove:function remove(){this.forEach(function($element){$element.parentNode.removeChild($element)});return this},find:function find(selector){return(0,_balajs2.default)(selector,this)},addClass:function addClass(className){this.forEach(function($element){$element.classList.add(className)});return this},removeClass:function removeClass(className){this.forEach(function($element){$element.classList.remove(className)});return this},eq:function eq(index){return(0,_balajs2.default)(this[index])},show:function show(){this.forEach(function($element){$element.style.display='block'});return this},hide:function hide(){this.forEach(function($element){$element.style.display='none'});return this},html:function html(_html){this.forEach(function($element){$element.innerHTML=_html});return this},css:function css(obj){var _this=this;Object.keys(obj).forEach(function(key){_this.forEach(function($element){$element.style[key]=obj[key]})});return this},on:function on(eventType,selector,handler){var isDelegate=typeof selector==='string'&&typeof handler==='function';if(!isDelegate){handler=selector}this.forEach(function($element){eventType.split(' ').forEach(function(event){$element.addEventListener(event,function(evt){if(isDelegate){if(this.contains(evt.target.closest(selector))){handler.call(evt.target,evt)}}else{handler.call(this,evt)}})})});return this},off:function off(eventType,selector,handler){if(typeof selector==='function'){handler=selector;selector=null}this.forEach(function($element){eventType.split(' ').forEach(function(event){if(typeof selector==='string'){$element.querySelectorAll(selector).forEach(function($element){$element.removeEventListener(event,handler)})}else{$element.removeEventListener(event,handler)}})});return this},index:function index(){var $element=this[0];var $parent=$element.parentNode;return Array.prototype.indexOf.call($parent.children,$element)},offAll:function offAll(){var _this2=this;this.forEach(function($element,index){var clone=$element.cloneNode(true);$element.parentNode.replaceChild(clone,$element);_this2[index]=clone});return this},val:function val(){var _arguments=arguments;if(arguments.length){this.forEach(function($element){$element.value=_arguments[0]});return this}return this[0].value},attr:function attr(){var _arguments2=arguments,_this3=this;if(_typeof(arguments[0])=='object'){var _ret=function(){var attrsObj=_arguments2[0];var that=_this3;Object.keys(attrsObj).forEach(function(attr){that.forEach(function($element){$element.setAttribute(attr,attrsObj[attr])})});return{v:_this3}}();if((typeof _ret==='undefined'?'undefined':_typeof(_ret))==="object"){return _ret.v}}if(typeof arguments[0]=='string'&&arguments.length<2){return this[0].getAttribute(arguments[0])}this.forEach(function($element){$element.setAttribute(_arguments2[0],_arguments2[1])});return this}});(0,_objectAssign2.default)(_balajs2.default,{extend:_objectAssign2.default,noop:function noop(){},render:function render(tpl,data){var code='var p=[];with(this){p.push(\''+tpl.replace(/[\r\t\n]/g,' ').split('<%').join('\t').replace(/((^|%>)[^\t]*)'/g,'$1\r').replace(/\t=(.*?)%>/g,'\',$1,\'').split('\t').join('\');').split('%>').join('p.push(\'').split('\r').join('\\\'')+'\');}return p.join(\'\');';return new Function(code).apply(data)},getStyle:function getStyle(el,styleProp){var value,defaultView=(el.ownerDocument||document).defaultView;if(defaultView&&defaultView.getComputedStyle){styleProp=styleProp.replace(/([A-Z])/g,'-$1').toLowerCase();return defaultView.getComputedStyle(el,null).getPropertyValue(styleProp)}else if(el.currentStyle){styleProp=styleProp.replace(/\-(\w)/g,function(str,letter){return letter.toUpperCase()});value=el.currentStyle[styleProp];if(/^\d+(em|pt|%|ex)?$/i.test(value)){return function(value){var oldLeft=el.style.left,oldRsLeft=el.runtimeStyle.left;el.runtimeStyle.left=el.currentStyle.left;el.style.left=value||0;value=el.style.pixelLeft+'px';el.style.left=oldLeft;el.runtimeStyle.left=oldRsLeft;return value}(value)}return value}}});exports.default=_balajs2.default;module.exports=exports['default'];},function(module,exports){(function(ElementProto){if(typeof ElementProto.matches!=='function'){ElementProto.matches=ElementProto.msMatchesSelector||ElementProto.mozMatchesSelector||ElementProto.webkitMatchesSelector||function matches(selector){var element=this;var elements=(element.document||element.ownerDocument).querySelectorAll(selector);var index=0;while(elements[index]&&elements[index]!==element){index+=1}return Boolean(elements[index])}}if(typeof ElementProto.closest!=='function'){ElementProto.closest=function closest(selector){var element=this;while(element&&element.nodeType===1){if(element.matches(selector)){return element}element=element.parentNode}return null}}})(window.Element.prototype);},function(module,exports){'use strict';var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError('Object.assign cannot be called with null or undefined')}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String('abc');test1[5]='de';if(Object.getOwnPropertyNames(test1)[0]==='5'){return false}var test2={};for(var i=0;i<10;i+=1){test2['_'+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if(order2.join('')!=='0123456789'){return false}var test3={};'abcdefghijklmnopqrst'.split('').forEach(function(letter){test3[letter]=letter});if(Object.keys(Object.assign({},test3)).join('')!=='abcdefghijklmnopqrst'){return false}return true}catch(e){return false}}module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s+=1){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(Object.getOwnPropertySymbols){symbols=Object.getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i+=1){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to};},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(root,$){$=(function(document,s_addEventListener,s_querySelectorAll){function $(s,context,bala){bala=Object.create($.fn);s&&bala.push.apply(bala,s[s_addEventListener]?[s]:""+s===s ?/</.test(s)?((context=document.createElement(context||s_addEventListener)).innerHTML=s,context.children):context ?((context=$(context)[0])?context[s_querySelectorAll](s):bala):document[s_querySelectorAll](s):typeof s=='function'?document.readyState[7]?s():document[s_addEventListener]('DOMContentLoaded',s):s);return bala}$.fn=[];$.one=function(s,context){return $(s,context)[0]||null};return $})(document,'addEventListener','querySelectorAll');if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return $}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else if(typeof module=='object'&&module.exports){module.exports=$}else{root.$=$}})(this);},function(module,exports){module.exports="<div class=\"<%=className%>\"> <div class=weui-mask></div> <div class=\"weui-dialog <% if(isAndroid){ %> weui-skin_android <% } %>\"> <% if(title){ %> <div class=weui-dialog__hd><strong class=weui-dialog__title><%=title%></strong></div> <% } %> <div class=weui-dialog__bd><%=content%></div> <div class=weui-dialog__ft> <% for(var i = 0; i < buttons.length; i++){ %> <a href=javascript:; class=\"weui-dialog__btn weui-dialog__btn_<%=buttons[i]['type']%>\"><%=buttons[i]['label']%></a> <% } %> </div> </div> </div> ";},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _util=__webpack_require__(2);var _util2=_interopRequireDefault(_util);var _dialog=__webpack_require__(1);var _dialog2=_interopRequireDefault(_dialog);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function alert(){var content=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var yes=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_util2.default.noop;var options=arguments[2];if((typeof yes==='undefined'?'undefined':_typeof(yes))==='object'){options=yes;yes=_util2.default.noop}options=_util2.default.extend({content:content,buttons:[{label:'确定',type:'primary',onClick:yes}]},options);return(0,_dialog2.default)(options)}exports.default=alert;module.exports=exports['default'];},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _util=__webpack_require__(2);var _util2=_interopRequireDefault(_util);var _dialog=__webpack_require__(1);var _dialog2=_interopRequireDefault(_dialog);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function confirm(){var content=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var yes=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_util2.default.noop;var no=arguments.length>2&&arguments[2]!==undefined?arguments[2]:_util2.default.noop;var options=arguments[3];if((typeof yes==='undefined'?'undefined':_typeof(yes))==='object'){options=yes;yes=_util2.default.noop}else if((typeof no==='undefined'?'undefined':_typeof(no))==='object'){options=no;no=_util2.default.noop}options=_util2.default.extend({content:content,buttons:[{label:'取消',type:'default',onClick:no},{label:'确定',type:'primary',onClick:yes}]},options);return(0,_dialog2.default)(options)}exports.default=confirm;module.exports=exports['default'];},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _util=__webpack_require__(2);var _util2=_interopRequireDefault(_util);var _toast=__webpack_require__(10);var _toast2=_interopRequireDefault(_toast);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _sington=void 0;function toast(){var content=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(_sington){return _sington}if(typeof options==='number'){options={duration:options}}if(typeof options==='function'){options={callback:options}}options=_util2.default.extend({content:content,duration:3000,callback:_util2.default.noop,className:''},options);var $toastWrap=(0,_util2.default)(_util2.default.render(_toast2.default,options));var $toast=$toastWrap.find('.weui-toast');var $mask=$toastWrap.find('.weui-mask');(0,_util2.default)('body').append($toastWrap);$toast.addClass('weui-animate-fade-in');$mask.addClass('weui-animate-fade-in');setTimeout(function(){$mask.addClass('weui-animate-fade-out');$toast.addClass('weui-animate-fade-out').on('animationend webkitAnimationEnd',function(){$toastWrap.remove();_sington=false;options.callback()})},options.duration);_sington=$toastWrap[0];return $toastWrap[0]}exports.default=toast;module.exports=exports['default'];},function(module,exports){module.exports="<div class=\"<%= className %>\"> <div class=weui-mask_transparent></div> <div class=weui-toast> <i class=\"weui-icon_toast weui-icon-success-no-circle\"></i> <p class=weui-toast__content><%=content%></p> </div> </div> ";},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _util=__webpack_require__(2);var _util2=_interopRequireDefault(_util);var _loading=__webpack_require__(12);var _loading2=_interopRequireDefault(_loading);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _sington=void 0;function loading(){var content=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(_sington){return _sington}options=_util2.default.extend({content:content,className:''},options);var $loadingWrap=(0,_util2.default)(_util2.default.render(_loading2.default,options));var $loading=$loadingWrap.find('.weui-toast');var $mask=$loadingWrap.find('.weui-mask');function _hide(callback){_hide=_util2.default.noop;$mask.addClass('weui-animate-fade-out');$loading.addClass('weui-animate-fade-out').on('animationend webkitAnimationEnd',function(){$loadingWrap.remove();_sington=false;callback&&callback()})}function hide(callback){_hide(callback)}(0,_util2.default)('body').append($loadingWrap);$loading.addClass('weui-animate-fade-in');$mask.addClass('weui-animate-fade-in');_sington=$loadingWrap[0];_sington.hide=hide;return _sington}exports.default=loading;module.exports=exports['default'];},function(module,exports){module.exports="<div class=\"weui-loading_toast <%= className %>\"> <div class=weui-mask_transparent></div> <div class=weui-toast> <i class=\"weui-loading weui-icon_toast\"></i> <p class=weui-toast__content><%=content%></p> </div> </div> ";},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _util=__webpack_require__(2);var _util2=_interopRequireDefault(_util);var _actionSheet=__webpack_require__(14);var _actionSheet2=_interopRequireDefault(_actionSheet);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _sington=void 0;function actionSheet(){var menus=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var actions=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(_sington){return _sington}var isAndroid=_util2.default.os.android;options=_util2.default.extend({menus:menus,actions:actions,className:'',isAndroid:isAndroid,onClose:_util2.default.noop},options);var $actionSheetWrap=(0,_util2.default)(_util2.default.render(_actionSheet2.default,options));var $actionSheet=$actionSheetWrap.find('.weui-actionsheet');var $actionSheetMask=$actionSheetWrap.find('.weui-mask');function _hide(callback){_hide=_util2.default.noop;$actionSheet.addClass(options.isAndroid?'weui-animate-fade-out':'weui-animate-slide-down');$actionSheetMask.addClass('weui-animate-fade-out').on('animationend webkitAnimationEnd',function(){$actionSheetWrap.remove();_sington=false;options.onClose();callback&&callback()})}function hide(callback){_hide(callback)}(0,_util2.default)('body').append($actionSheetWrap);_util2.default.getStyle($actionSheet[0],'transform');$actionSheet.addClass(options.isAndroid?'weui-animate-fade-in':'weui-animate-slide-up');$actionSheetMask.addClass('weui-animate-fade-in').on('click',function(){hide()});$actionSheetWrap.find('.weui-actionsheet__menu').on('click','.weui-actionsheet__cell',function(evt){var index=(0,_util2.default)(this).index();menus[index].onClick.call(this,evt);hide()});$actionSheetWrap.find('.weui-actionsheet__action').on('click','.weui-actionsheet__cell',function(evt){var index=(0,_util2.default)(this).index();actions[index].onClick.call(this,evt);hide()});_sington=$actionSheetWrap[0];_sington.hide=hide;return _sington}exports.default=actionSheet;module.exports=exports['default'];},function(module,exports){module.exports="<div class=\"<% if(isAndroid){ %>weui-skin_android <% } %><%= className %>\"> <div class=weui-mask></div> <div class=weui-actionsheet> <div class=weui-actionsheet__menu> <% for(var i = 0; i < menus.length; i++){ %> <div class=weui-actionsheet__cell><%= menus[i].label %></div> <% } %> </div> <div class=weui-actionsheet__action> <% for(var j = 0; j < actions.length; j++){ %> <div class=weui-actionsheet__cell><%= actions[j].label %></div> <% } %> </div> </div> </div> ";},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _util=__webpack_require__(2);var _util2=_interopRequireDefault(_util);var _topTips=__webpack_require__(16);var _topTips2=_interopRequireDefault(_topTips);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _toptips=null;function topTips(content){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(typeof options==='number'){options={duration:options}}if(typeof options==='function'){options={callback:options}}options=_util2.default.extend({content:content,duration:3000,callback:_util2.default.noop,className:''},options);var $topTips=(0,_util2.default)(_util2.default.render(_topTips2.default,options));function _hide(callback){_hide=_util2.default.noop;$topTips.remove();callback&&callback();options.callback();_toptips=null}function hide(callback){_hide(callback)}(0,_util2.default)('body').append($topTips);if(_toptips){clearTimeout(_toptips.timeout);_toptips.hide()}_toptips={hide:hide};_toptips.timeout=setTimeout(hide,options.duration);$topTips[0].hide=hide;return $topTips[0]}exports.default=topTips;module.exports=exports['default'];},function(module,exports){module.exports="<div class=\"weui-toptips weui-toptips_warn <%= className %>\" style=display:block><%= content %></div> ";},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _util=__webpack_require__(2);var _util2=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function searchBar(selector){var $eles=(0,_util2.default)(selector);$eles.forEach(function(ele){var $searchBar=(0,_util2.default)(ele);var $searchLabel=$searchBar.find('.weui-search-bar__label');var $searchInput=$searchBar.find('.weui-search-bar__input');var $searchClear=$searchBar.find('.weui-icon-clear');var $searchCancel=$searchBar.find('.weui-search-bar__cancel-btn');function cancelSearch(){$searchInput.val('');$searchBar.removeClass('weui-search-bar_focusing')}$searchLabel.on('click',function(){$searchBar.addClass('weui-search-bar_focusing');$searchInput[0].focus()});$searchInput.on('blur',function(){if(!this.value.length){cancelSearch()}});$searchClear.on('click',function(){$searchInput.val('');$searchInput[0].focus()});$searchCancel.on('click',function(){cancelSearch();$searchInput[0].blur()})});return $eles}exports.default=searchBar;module.exports=exports['default'];},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _util=__webpack_require__(2);var _util2=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function tab(selector){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var $eles=(0,_util2.default)(selector);options=_util2.default.extend({defaultIndex:0,onChange:_util2.default.noop},options);$eles.forEach(function(ele){var $tab=(0,_util2.default)(ele);var $tabItems=$tab.find('.weui-navbar__item, .weui-tabbar__item');var $tabContents=$tab.find('.weui-tab__content');$tabItems.eq(options.defaultIndex).addClass('weui-bar__item_on');$tabContents.eq(options.defaultIndex).show();$tabItems.on('click',function(){var $this=(0,_util2.default)(this),index=$this.index();$tabItems.removeClass('weui-bar__item_on');$this.addClass('weui-bar__item_on');$tabContents.hide();$tabContents.eq(index).show();options.onChange.call(this,index)})});return this}exports.default=tab;module.exports=exports['default'];},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _util=__webpack_require__(2);var _util2=_interopRequireDefault(_util);var _topTips=__webpack_require__(15);var _topTips2=_interopRequireDefault(_topTips);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _findCellParent(ele){if(!ele||!ele.classList){return null}if(ele.classList.contains('weui-cell')){return ele}return _findCellParent(ele.parentNode)}function _validate($input,$form,regexp){var input=$input[0],val=$input.val();if(input.tagName=='INPUT'||input.tagName=='TEXTAREA'){var reg=input.getAttribute('pattern')||'';if(input.type=='radio'){var radioInputs=$form.find('input[type="radio"][name="'+input.name+'"]');for(var i=0,len=radioInputs.length;i<len;i+=1){if(radioInputs[i].checked){return null}}return 'empty'}else if(input.type=='checkbox'){if(reg){var _ret=function(){var checkboxInputs=$form.find('input[type="checkbox"][name="'+input.name+'"]');var regs=reg.replace(/[{\s}]/g,'').split(',');var count=0;if(regs.length!=2){throw input.outerHTML+' regexp is wrong.'}checkboxInputs.forEach(function(checkboxInput){if(checkboxInput.checked){++count}});if(regs[1]===''){if(count>=parseInt(regs[0])){return{v:null}}else{return{v:count==0?'empty':'notMatch'}}}else{if(parseInt(regs[0])<=count&&count<=parseInt(regs[1])){return{v:null}}else{return{v:count==0?'empty':'notMatch'}}}}();if((typeof _ret==='undefined'?'undefined':_typeof(_ret))==="object"){return _ret.v}}else{return input.checked?null:'empty'}}else if(reg){if(/^REG_/.test(reg)){if(!regexp){throw 'RegExp '+reg+' is empty.'}reg=reg.replace(/^REG_/,'');if(!regexp[reg]){throw 'RegExp '+reg+' has not found.'}reg=regexp[reg]}return new RegExp(reg).test(val)?null:!$input.val().length?'empty':'notMatch'}else if(!$input.val().length){return 'empty'}else{return null}}else if(val.length){return null}return 'empty'}function validate(selector){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_util2.default.noop;var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var $eles=(0,_util2.default)(selector);$eles.forEach(function(ele){var $form=(0,_util2.default)(ele);var $requireds=$form.find('[required]');if(typeof callback!='function'){callback=showErrorTips}for(var i=0,len=$requireds.length;i<len;i+=1){var $required=$requireds.eq(i),errorMsg=_validate($required,$form,options.regexp),error={ele:$required[0],msg:errorMsg};if(errorMsg){if(!callback(error)){showErrorTips(error)}return}}callback(null)});return this}function checkIfBlur(selector){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var $eles=(0,_util2.default)(selector);$eles.forEach(function(ele){var $form=(0,_util2.default)(ele);$form.find('[required]').on('blur',function(){if(this.type=='checkbox'||this.type=='radio'){return}var $this=(0,_util2.default)(this);if($this.val().length<1){return;}var errorMsg=_validate($this,$form,options.regexp);if(errorMsg){showErrorTips({ele:$this[0],msg:errorMsg})}}).on('focus',function(){hideErrorTips(this)})});return this}function showErrorTips(error){if(error){var $ele=(0,_util2.default)(error.ele),msg=error.msg,tips=$ele.attr(msg+'Tips')||$ele.attr('tips')||$ele.attr('placeholder');if(tips){(0,_topTips2.default)(tips)}if(error.ele.type=='checkbox'||error.ele.type=='radio'){return}var cellParent=_findCellParent(error.ele);if(cellParent){cellParent.classList.add('weui-cell_warn')}}}function hideErrorTips(ele){var cellParent=_findCellParent(ele);if(cellParent){cellParent.classList.remove('weui-cell_warn')}}exports.default={showErrorTips:showErrorTips,hideErrorTips:hideErrorTips,validate:validate,checkIfBlur:checkIfBlur};module.exports=exports['default'];},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _util=__webpack_require__(2);var _util2=_interopRequireDefault(_util);var _item=__webpack_require__(21);var _item2=_interopRequireDefault(_item);var _image=__webpack_require__(22);var _upload=__webpack_require__(23);var _upload2=_interopRequireDefault(_upload);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _id=0;function uploader(selector,options){var $uploader=(0,_util2.default)(selector);var URL=window.URL||window.webkitURL||window.mozURL;function findFileCtn($uploader,id){var $file=$uploader.find('[data-id="'+id+'"]');var $fileCtn=$file.find('.weui-uploader__file-content');if(!$fileCtn.length){$fileCtn=(0,_util2.default)('<div class="weui-uploader__file-content"></div>');$file.append($fileCtn)}$file.addClass('weui-uploader__file_status');return $fileCtn}function clearFileStatus($uploader,id){var $file=$uploader.find('[data-id="'+id+'"]').removeClass('weui-uploader__file_status');$file.find('.weui-uploader__file-content').remove()}function setUploadFile(file){file.url=URL.createObjectURL(file);file.status='ready';file.upload=function(){(0,_upload2.default)(_util2.default.extend({$uploader:$uploader,file:file},options))};file.stop=function(){this.xhr.abort()};options.onQueued(file);if(options.auto){file.upload()}}options=_util2.default.extend({url:'',auto:true,type:'file',fileVal:'file',xhrFields:{},onBeforeQueued:_util2.default.noop,onQueued:_util2.default.noop,onBeforeSend:_util2.default.noop,onSuccess:_util2.default.noop,onProgress:_util2.default.noop,onError:_util2.default.noop},options);if(options.compress!==false){options.compress=_util2.default.extend({width:1600,height:1600,quality:.8},options.compress)}if(options.onBeforeQueued){(function(){var onBeforeQueued=options.onBeforeQueued;options.onBeforeQueued=function(file,files){var ret=onBeforeQueued.call(file,files);if(ret===false){return false}if(ret===true){return}var $item=(0,_util2.default)(_util2.default.render(_item2.default,{id:file.id}));$uploader.find('.weui-uploader__files').append($item)}})()}if(options.onQueued){(function(){var onQueued=options.onQueued;options.onQueued=function(file){if(!onQueued.call(file)){var $file=$uploader.find('[data-id="'+file.id+'"]');$file.css({backgroundImage:'url("'+(file.base64||file.url)+'")'});if(!options.auto){clearFileStatus($uploader,file.id)}}}})()}if(options.onBeforeSend){(function(){var onBeforeSend=options.onBeforeSend;options.onBeforeSend=function(file,data,headers){var ret=onBeforeSend.call(file,data,headers);if(ret===false){return false}}})()}if(options.onSuccess){(function(){var onSuccess=options.onSuccess;options.onSuccess=function(file,ret){file.status='success';if(!onSuccess.call(file,ret)){clearFileStatus($uploader,file.id)}}})()}if(options.onProgress){(function(){var onProgress=options.onProgress;options.onProgress=function(file,percent){if(!onProgress.call(file,percent)){findFileCtn($uploader,file.id).html(percent+'%')}}})()}if(options.onError){(function(){var onError=options.onError;options.onError=function(file,err){file.status='fail';if(!onError.call(file,err)){findFileCtn($uploader,file.id).html('<i class="weui-icon-warn"></i>')}}})()}$uploader.find('input[type="file"]').on('change',function(evt){var files=evt.target.files;if(files.length===0){return}if(options.compress===false&&options.type=='file'){Array.prototype.forEach.call(files,function(file){file.id= ++_id;if(options.onBeforeQueued(file,files)===false){return}setUploadFile(file)})}else{Array.prototype.forEach.call(files,function(file){file.id= ++_id;if(options.onBeforeQueued(file,files)===false){return}(0,_image.compress)(file,options,function(blob){if(blob){setUploadFile(blob)}})})}this.value=''})}exports.default=uploader;module.exports=exports['default'];},function(module,exports){module.exports="<li class=\"weui-uploader__file weui-uploader__file_status\" data-id=\"<%= id %>\"> <div class=weui-uploader__file-content> <i class=weui-loading style=width:30px;height:30px></i> </div> </li> ";},function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});function detectVerticalSquash(img){var data;var ih=img.naturalHeight;var canvas=document.createElement('canvas');canvas.width=1;canvas.height=ih;var ctx=canvas.getContext('2d');ctx.drawImage(img,0,0);try{data=ctx.getImageData(0,0,1,ih).data}catch(err){console.log('Cannot check verticalSquash: CORS?');return 1}var sy=0;var ey=ih;var py=ih;while(py>sy){var alpha=data[(py-1)*4+3];if(alpha===0){ey=py}else{sy=py}py=ey+sy>>1;}var ratio=py/ih;return ratio===0?1:ratio}function dataURItoBuffer(dataURI){var byteString=atob(dataURI.split(',')[1]);var buffer=new ArrayBuffer(byteString.length);var view=new Uint8Array(buffer);for(var i=0;i<byteString.length;i+=1){view[i]=byteString.charCodeAt(i)}return buffer}function dataURItoBlob(dataURI){var mimeString=dataURI.split(',')[0].split(':')[1].split(';')[0];var buffer=dataURItoBuffer(dataURI);return new Blob([buffer],{type:mimeString})}function getOrientation(buffer){var view=new DataView(buffer);if(view.getUint16(0,false)!=0xFFD8){return -2}var length=view.byteLength,offset=2;while(offset<length){var marker=view.getUint16(offset,false);offset+=2;if(marker==0xFFE1){if(view.getUint32(offset+=2,false)!=0x45786966){return -1}var little=view.getUint16(offset+=6,false)==0x4949;offset+=view.getUint32(offset+4,little);var tags=view.getUint16(offset,little);offset+=2;for(var i=0;i<tags;i+=1){if(view.getUint16(offset+i*12,little)==0x0112){return view.getUint16(offset+i*12+8,little)}}}else if((marker&0xFF00)!=0xFF00){break}else{offset+=view.getUint16(offset,false)}}return -1}function orientationHelper(canvas,ctx,orientation){var w=canvas.width,h=canvas.height;if(orientation>4){canvas.width=h;canvas.height=w}switch(orientation){case 2:ctx.translate(w,0);ctx.scale(-1,1);break;case 3:ctx.translate(w,h);ctx.rotate(Math.PI);break;case 4:ctx.translate(0,h);ctx.scale(1,-1);break;case 5:ctx.rotate(0.5*Math.PI);ctx.scale(1,-1);break;case 6:ctx.rotate(0.5*Math.PI);ctx.translate(0,-h);break;case 7:ctx.rotate(0.5*Math.PI);ctx.translate(w,-h);ctx.scale(-1,1);break;case 8:ctx.rotate(-0.5*Math.PI);ctx.translate(-w,0);break}}function compress(file,options,callback){var reader=new FileReader();reader.onload=function(evt){if(options.compress===false){file.base64=evt.target.result;callback(file);return}var img=new Image();img.onload=function(){var ratio=detectVerticalSquash(img);var orientation=getOrientation(dataURItoBuffer(img.src));var canvas=document.createElement('canvas');var ctx=canvas.getContext('2d');var maxW=options.compress.width;var maxH=options.compress.height;var w=img.width;var h=img.height;var dataURL=void 0;if(w<h&&h>maxH){w=parseInt(maxH*img.width/img.height);h=maxH}else if(w>=h&&w>maxW){h=parseInt(maxW*img.height/img.width);w=maxW}canvas.width=w;canvas.height=h;if(orientation>0){orientationHelper(canvas,ctx,orientation)}ctx.drawImage(img,0,0,w,h/ratio);if(/image\/jpeg/.test(file.type)||/image\/jpg/.test(file.type)){dataURL=canvas.toDataURL('image/jpeg',options.compress.quality)}else{dataURL=canvas.toDataURL(file.type)}if(options.type=='file'){if(/;base64,null/.test(dataURL)||/;base64,$/.test(dataURL)){console.warn('Compress fail, dataURL is '+dataURL+'. Next will use origin file to upload.');callback(file)}else{var blob=dataURItoBlob(dataURL);blob.id=file.id;blob.name=file.name;blob.lastModified=file.lastModified;blob.lastModifiedDate=file.lastModifiedDate;callback(blob)}}else{if(/;base64,null/.test(dataURL)||/;base64,$/.test(dataURL)){options.onError(file,new Error('Compress fail, dataURL is '+dataURL+'.'));callback()}else{file.base64=dataURL;callback(file)}}};img.src=evt.target.result};reader.readAsDataURL(file)}exports.default={compress:compress};module.exports=exports['default'];},function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default=upload;function upload(options){var url=options.url,file=options.file,fileVal=options.fileVal,onBeforeSend=options.onBeforeSend,onProgress=options.onProgress,onError=options.onError,onSuccess=options.onSuccess,xhrFields=options.xhrFields;var name=file.name,type=file.type,lastModifiedDate=file.lastModifiedDate;var data={name:name,type:type,size:options.type=='file'?file.size:file.base64.length,lastModifiedDate:lastModifiedDate};var headers={};if(onBeforeSend(file,data,headers)===false){return}file.status='progress';onProgress(file,0);var formData=new FormData();var xhr=new XMLHttpRequest();file.xhr=xhr;Object.keys(data).forEach(function(key){formData.append(key,data[key])});if(options.type=='file'){formData.append(fileVal,file,name)}else{formData.append(fileVal,file.base64)}xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status==200){try{var ret=JSON.parse(xhr.responseText);onSuccess(file,ret)}catch(err){onError(file,err)}}else{onError(file,new Error('XMLHttpRequest response status is '+xhr.status))}}};xhr.upload.addEventListener('progress',function(evt){if(evt.total==0){return}var percent=Math.ceil(evt.loaded/evt.total)*100;onProgress(file,percent)},false);xhr.open('POST',url);Object.keys(xhrFields).forEach(function(key){xhr[key]=xhrFields[key]});Object.keys(headers).forEach(function(key){xhr.setRequestHeader(key,headers[key])});xhr.send(formData)}module.exports=exports['default'];},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _util=__webpack_require__(2);var _util2=_interopRequireDefault(_util);var _cron=__webpack_require__(25);var _cron2=_interopRequireDefault(_cron);__webpack_require__(26);var _util3=__webpack_require__(27);var util=_interopRequireWildcard(_util3);var _picker=__webpack_require__(28);var _picker2=_interopRequireDefault(_picker);var _group=__webpack_require__(29);var _group2=_interopRequireDefault(_group);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){newObj[key]=obj[key]}}}newObj.default=obj;return newObj}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Result(item){if((typeof item==='undefined'?'undefined':_typeof(item))!='object'){item={label:item,value:item}}_util2.default.extend(this,item)}Result.prototype.toString=function(){return this.value};Result.prototype.valueOf=function(){return this.value};var _sington=void 0;var temp={};function picker(){if(_sington){return _sington}var options=arguments[arguments.length-1];var defaults=_util2.default.extend({id:'default',className:'',container:'body',onChange:_util2.default.noop,onConfirm:_util2.default.noop,onClose:_util2.default.noop},options);var items=void 0;var isMulti=false;if(arguments.length>2){var i=0;items=[];while(i<arguments.length-1){items.push(arguments[i++])}isMulti=true}else{items=arguments[0]}temp[defaults.id]=temp[defaults.id]||[];var result=[];var lineTemp=temp[defaults.id];var $picker=(0,_util2.default)(_util2.default.render(_picker2.default,defaults));var depth=options.depth||(isMulti?items.length:util.depthOf(items[0])),groups='';function show(){(0,_util2.default)(defaults.container).append($picker);_util2.default.getStyle($picker[0],'transform');$picker.find('.weui-mask').addClass('weui-animate-fade-in');$picker.find('.weui-picker').addClass('weui-animate-slide-up')}function _hide(callback){_hide=_util2.default.noop;$picker.find('.weui-mask').addClass('weui-animate-fade-out');$picker.find('.weui-picker').addClass('weui-animate-slide-down').on('animationend webkitAnimationEnd',function(){$picker.remove();_sington=false;defaults.onClose();callback&&callback()})}function hide(callback){_hide(callback)}function scroll(items,level){if(lineTemp[level]===undefined&&defaults.defaultValue&&defaults.defaultValue[level]!==undefined){var defaultVal=defaults.defaultValue[level];var index=0,len=items.length;if(_typeof(items[index])=='object'){for(;index<len;index+=1){if(defaultVal==items[index].value){break}}}else{for(;index<len;index+=1){if(defaultVal==items[index]){break}}}if(index<len){lineTemp[level]=index}else{console.warn('Picker has not match defaultValue: '+defaultVal)}}$picker.find('.weui-picker__group').eq(level).scroll({items:items,temp:lineTemp[level],onChange:function onChange(item,index){if(item){result[level]=new Result(item)}else{result[level]=null}lineTemp[level]=index;if(isMulti){if(result.length==depth){defaults.onChange(result)}}else{if(item.children&&item.children.length>0){$picker.find('.weui-picker__group').eq(level+1).show();!isMulti&&scroll(item.children,level+1);}else{var $items=$picker.find('.weui-picker__group');$items.forEach(function(ele,index){if(index>level){(0,_util2.default)(ele).hide()}});result.splice(level+1);defaults.onChange(result)}}},onConfirm:defaults.onConfirm})}var _depth=depth;while(_depth--){groups+=_group2.default}$picker.find('.weui-picker__bd').html(groups);show();if(isMulti){items.forEach(function(item,index){scroll(item,index)})}else{scroll(items,0)}$picker.on('click','.weui-mask',function(){hide()}).on('click','.weui-picker__action',function(){hide()}).on('click','#weui-picker-confirm',function(){defaults.onConfirm(result)});_sington=$picker[0];_sington.hide=hide;return _sington}function datePicker(options){var defaults=_util2.default.extend({id:'datePicker',onChange:_util2.default.noop,onConfirm:_util2.default.noop,start:2000,end:2030,cron:'* * *'},options);if(typeof defaults.start==='number'){defaults.start=new Date(defaults.start+'/01/01')}else if(typeof defaults.start==='string'){defaults.start=new Date(defaults.start.replace(/-/g,'/'))}if(typeof defaults.end==='number'){defaults.end=new Date(defaults.end+'/12/31')}else if(typeof defaults.end==='string'){defaults.end=new Date(defaults.end.replace(/-/g,'/'))}var findBy=function findBy(array,key,value){for(var i=0,len=array.length;i<len;i+=1){var _obj=array[i];if(_obj[key]==value){return _obj}}};var date=[];var interval=_cron2.default.parse(defaults.cron,defaults.start,defaults.end);var obj=void 0;do{obj=interval.next();var year=obj.value.getFullYear();var month=obj.value.getMonth()+1;var day=obj.value.getDate();var Y=findBy(date,'value',year);if(!Y){Y={label:year+'年',value:year,children:[]};date.push(Y)}var M=findBy(Y.children,'value',month);if(!M){M={label:month+'月',value:month,children:[]};Y.children.push(M)}M.children.push({label:day+'日',value:day})}while(!obj.done);return picker(date,defaults)}exports.default={picker:picker,datePicker:datePicker};module.exports=exports['default'];},function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i+=1){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor){descriptor.writable=true}Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps){defineProperties(Constructor.prototype,protoProps)}if(staticProps){defineProperties(Constructor,staticProps)}return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var regex=/^(\d+)(?:-(\d+))?(?:\/(\d+))?$/g;var constraints=[[1,31],[1,12],[0,6]];var Schedule=function(){function Schedule(fields,start,end){_classCallCheck(this,Schedule);this._dates=fields[0];this._months=fields[1];this._days=fields[2];this._start=start;this._end=end;this._pointer=start}_createClass(Schedule,[{key:'_findNext',value:function _findNext(){var next=void 0;while(true){if(this._end.getTime()-this._pointer.getTime()<0){throw new Error('out of range, end is '+this._end+', current is '+this._pointer)}var month=this._pointer.getMonth();var date=this._pointer.getDate();var day=this._pointer.getDay();if(this._months.indexOf(month+1)===-1){this._pointer.setMonth(month+1);this._pointer.setDate(1);continue}if(this._dates.indexOf(date)===-1){this._pointer.setDate(date+1);continue}if(this._days.indexOf(day)===-1){this._pointer.setDate(date+1);continue}next=new Date(this._pointer);break}return next}},{key:'next',value:function next(){var value=this._findNext();this._pointer.setDate(this._pointer.getDate()+1);return{value:value,done:!this.hasNext()}}},{key:'hasNext',value:function hasNext(){try{this._findNext();return true}catch(e){return false}}}]);return Schedule}();function parseField(field,constraints){var low=constraints[0];var high=constraints[1];var result=[];var pointer=void 0;field=field.replace(/\*/g,low+'-'+high);var fields=field.split(',');for(var i=0,len=fields.length;i<len;i+=1){var f=fields[i];if(f.match(regex)){f.replace(regex,function($0,lower,upper,step){step=parseInt(step)||1;lower=Math.min(Math.max(low,~~Math.abs(lower)),high);upper=upper?Math.min(high,~~Math.abs(upper)):lower;pointer=lower;do{result.push(pointer);pointer+=step}while(pointer<=upper)})}}return result}function parse(expr,start,end){var atoms=expr.replace(/^\s\s*|\s\s*$/g,'').split(/\s+/);var fields=[];atoms.forEach(function(atom,index){var constraint=constraints[index];fields.push(parseField(atom,constraint))});return new Schedule(fields,start,end)}exports.default={parse:parse};module.exports=exports['default'];},function(module,exports,__webpack_require__){'use strict';var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _util=__webpack_require__(2);var _util2=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var setTransition=function setTransition($target,time){return $target.css({'-webkit-transition':'all '+time+'s','transition':'all '+time+'s'})};var setTranslate=function setTranslate($target,diff){return $target.css({'-webkit-transform':'translate3d(0, '+diff+'px, 0)','transform':'translate3d(0, '+diff+'px, 0)'})};var getDefaultIndex=function getDefaultIndex(items){var current=Math.floor(items.length/2);var count=0;while(!!items[current]&&items[current].disabled){current= ++current%items.length;count+=1;if(count>items.length){throw new Error('No selectable item.')}}return current};var getDefaultTranslate=function getDefaultTranslate(offset,rowHeight,items){var currentIndex=getDefaultIndex(items);return(offset-currentIndex)*rowHeight};var getMax=function getMax(offset,rowHeight){return offset*rowHeight};var getMin=function getMin(offset,rowHeight,length){return-(rowHeight*(length-offset-1))};_util2.default.fn.scroll=function(options){var _this=this;var defaults=_util2.default.extend({items:[],scrollable:'.weui-picker__content',offset:3,rowHeight:34,onChange:_util2.default.noop,temp:null,bodyHeight:7*34},options);var items=defaults.items.map(function(item){return '<div class="weui-picker__item'+(item.disabled?' weui-picker__item_disabled':'')+'">'+((typeof item==='undefined'?'undefined':_typeof(item))=='object'?item.label:item)+'</div>'}).join('');var $this=(0,_util2.default)(this);$this.find('.weui-picker__content').html(items);var $scrollable=$this.find(defaults.scrollable);var start=void 0;var end=void 0;var startTime=void 0;var translate=void 0;var points=[];var windowHeight=window.innerHeight;if(defaults.temp!==null&&defaults.temp<defaults.items.length){var index=defaults.temp;defaults.onChange.call(this,defaults.items[index],index);translate=(defaults.offset-index)*defaults.rowHeight}else{var _index=getDefaultIndex(defaults.items);defaults.onChange.call(this,defaults.items[_index],_index);translate=getDefaultTranslate(defaults.offset,defaults.rowHeight,defaults.items)}setTranslate($scrollable,translate);var stop=function stop(diff){translate+=diff;translate=Math.round(translate/defaults.rowHeight)*defaults.rowHeight;var max=getMax(defaults.offset,defaults.rowHeight);var min=getMin(defaults.offset,defaults.rowHeight,defaults.items.length);if(translate>max){translate=max}if(translate<min){translate=min}var index=defaults.offset-translate/defaults.rowHeight;while(!!defaults.items[index]&&defaults.items[index].disabled){diff>0? ++index: --index}translate=(defaults.offset-index)*defaults.rowHeight;setTransition($scrollable,.3);setTranslate($scrollable,translate);defaults.onChange.call(_this,defaults.items[index],index)};function _start(pageY){start=pageY;startTime= +new Date()}function _move(pageY){end=pageY;var diff=end-start;setTransition($scrollable,0);setTranslate($scrollable,translate+diff);startTime= +new Date();points.push({time:startTime,y:end});if(points.length>40){points.shift()}}function _end(pageY){if(!start){return}var endTime=new Date().getTime();var relativeY=windowHeight-defaults.bodyHeight/2;end=pageY;if(endTime-startTime>100){if(Math.abs(end-start)>10){stop(end-start)}else{stop(relativeY-end)}}else{if(Math.abs(end-start)>10){var endPos=points.length-1;var startPos=endPos;for(var i=endPos;i>0&&startTime-points[i].time<100;i-=1){startPos=i}if(startPos!==endPos){var ep=points[endPos];var sp=points[startPos];var t=ep.time-sp.time;var s=ep.y-sp.y;var v=s/t;var diff=v*150+(end-start);stop(diff)}else{stop(0)}}else{stop(relativeY-end)}}start=null}$scrollable=$this.offAll().on('touchstart',function(evt){_start(evt.changedTouches[0].pageY)}).on('touchmove',function(evt){_move(evt.changedTouches[0].pageY);evt.preventDefault()}).on('touchend',function(evt){_end(evt.changedTouches[0].pageY)}).find(defaults.scrollable);var isSupportTouch='ontouchstart'in window||window.DocumentTouch&&document instanceof window.DocumentTouch;if(!isSupportTouch){$this.on('mousedown',function(evt){_start(evt.pageY);evt.stopPropagation();evt.preventDefault()}).on('mousemove',function(evt){if(!start){return}_move(evt.pageY);evt.stopPropagation();evt.preventDefault()}).on('mouseup mouseleave',function(evt){_end(evt.pageY);evt.stopPropagation();evt.preventDefault()})}};},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var depthOf=exports.depthOf=function depthOf(object){var depth=1;if(object.children&&object.children[0]){depth=depthOf(object.children[0])+1}return depth};},function(module,exports){module.exports="<div class=\"<%= className %>\"> <div class=weui-mask></div> <div class=weui-picker> <div class=weui-picker__hd> <a href=javascript:; data-action=cancel class=weui-picker__action>取消</a> <a href=javascript:; data-action=select class=weui-picker__action id=weui-picker-confirm>确定</a> </div> <div class=weui-picker__bd></div> </div> </div> ";},function(module,exports){module.exports="<div class=weui-picker__group> <div class=weui-picker__mask></div> <div class=weui-picker__indicator></div> <div class=weui-picker__content></div> </div>";},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _util=__webpack_require__(2);var _util2=_interopRequireDefault(_util);var _gallery=__webpack_require__(31);var _gallery2=_interopRequireDefault(_gallery);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _sington=void 0;function gallery(url){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(_sington){return _sington}options=_util2.default.extend({className:'',onDelete:_util2.default.noop},options);var $gallery=(0,_util2.default)(_util2.default.render(_gallery2.default,_util2.default.extend({url:url},options)));function _hide(callback){_hide=_util2.default.noop;$gallery.addClass('weui-animate-fade-out').on('animationend webkitAnimationEnd',function(){$gallery.remove();_sington=false;callback&&callback()})}function hide(callback){_hide(callback)}(0,_util2.default)('body').append($gallery);$gallery.find('.weui-gallery__img').on('click',function(){hide()});$gallery.find('.weui-gallery__del').on('click',function(){options.onDelete.call(this,url)});$gallery.show().addClass('weui-animate-fade-in');_sington=$gallery[0];_sington.hide=hide;return _sington}exports.default=gallery;module.exports=exports['default'];},function(module,exports){module.exports="<div class=\"weui-gallery <%= className %>\"> <span class=weui-gallery__img style=\"background-image:url(<%= url %>)\"></span> <div class=weui-gallery__opr> <a href=javascript: class=weui-gallery__del> <i class=\"weui-icon-delete weui-icon_gallery-delete\"></i> </a> </div> </div> ";},function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _util=__webpack_require__(2);var _util2=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function slider(selector){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var $eles=(0,_util2.default)(selector);options=_util2.default.extend({step:undefined,defaultValue:0,onChange:_util2.default.noop},options);if(options.step!==undefined){options.step=parseFloat(options.step);if(!options.step||options.step<0){throw new Error('Slider step must be a positive number.')}}if(options.defaultValue!==undefined&&options.defaultValue<0||options.defaultValue>100){throw new Error('Slider defaultValue must be >= 0 and <= 100.')}$eles.forEach(function(ele){var $slider=(0,_util2.default)(ele);var $sliderInner=$slider.find('.weui-slider__inner');var $sliderTrack=$slider.find('.weui-slider__track');var $sliderHandler=$slider.find('.weui-slider__handler');var sliderLength=parseInt(_util2.default.getStyle($sliderInner[0],'width'));var sliderLeft=$sliderInner[0].offsetLeft;var handlerStartPos=0;var handlerStartX=0;var stepWidth=void 0;function getHandlerPos(){var pos=_util2.default.getStyle($sliderHandler[0],'left');if(/%/.test(pos)){pos=sliderLength*parseFloat(pos)/100}else{pos=parseFloat(pos)}return pos}function setHandler(distance){var dist=void 0,percent=void 0;if(options.step){distance=Math.round(distance/stepWidth)*stepWidth}dist=handlerStartPos+distance;dist=dist<0?0:dist>sliderLength?sliderLength:dist;percent=100*dist/sliderLength;$sliderTrack.css({width:percent+'%'});$sliderHandler.css({left:percent+'%'});options.onChange.call(ele,percent)}if(options.step){stepWidth=sliderLength*options.step/100}if(options.defaultValue){setHandler(sliderLength*options.defaultValue/100)}$slider.on('click',function(evt){evt.preventDefault();handlerStartPos=getHandlerPos();setHandler(evt.pageX-sliderLeft-handlerStartPos)});$sliderHandler.on('touchstart',function(evt){handlerStartPos=getHandlerPos();handlerStartX=evt.changedTouches[0].clientX}).on('touchmove',function(evt){evt.preventDefault();setHandler(evt.changedTouches[0].clientX-handlerStartX)})});return this}exports.default=slider;module.exports=exports['default'];}])});;